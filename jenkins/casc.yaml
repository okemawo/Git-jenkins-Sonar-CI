security:
  queueItemAuthenticator:
    authenticators:
    - global:
        strategy: triggeringUsersAuthorizationStrategy

jobs:
  - script: >
      pipelineJob('github-build-exec') {
        definition {
          cpsScm {
            scm {
              git {
                remote {
                  github('okemawo/spring-petclinic')
                }
              }
            }
            scriptPath('./environmentInStage.groovy')
          }
        }
      }

unclassified:
  accessControlsFilter:
    allowedHeaders: "Jenkins-Crumb"
    allowedMethods: "GET, POST"
    allowedOrigins: "*"
    enabled: true
  sonarGlobalConfiguration:
    installations:
      - name: "SonarQube"
        serverUrl: "http://sonar:9000"
        credentialsId: "squ_ababb5fa4a4d7ee9ec07b8b98a9300a0e3616f51"